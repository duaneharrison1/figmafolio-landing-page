---
import Layout from "../../layouts/Layout.astro";
import Tick from "../../ui/icons/tick.astro";
import Container from "../../components/container.astro";
---

<Layout title="Portfolio Analytics">
  <Container>
    <section class="bg-white pt-8 pb-4 md:pt-14 md:pb-6">
      <div class="text-center mt-14 mb-12">
        <h1 class="text-5xl font-bold mb-4">Portfolio Analytics</h1>
        <p class="text-lg text-slate-600">
          Understand who's viewing your portfolio and what's resonating with
          your audience.
        </p>
      </div>
      <div
        class="grid grid-cols-1 md:grid-cols-2 gap-8 md:gap-12 items-start mt-24">
        <div class="flex flex-col items-start text-left">
          <h2 class="text-2xl font-bold mb-4">
            See who's viewing your portfolio
          </h2>
          <p class="text-slate-700 mb-4">
            Knowledge is power. With Portfolio Analytics, you can track visitor
            counts, see where your audience is located, understand which traffic
            sources are driving views, and monitor engagement trends over time.
            All without adding any code to your site.
          </p>
          <div class="mb-4">
            <h3 class="font-semibold text-lg mb-1">What you can track</h3>
            <ul class="space-y-1 text-base">
              <li class="flex items-center gap-2">
                <Tick class="text-green-600 w-5 h-5" /> Visitor counts and unique
                views
              </li>
              <li class="flex items-center gap-2">
                <Tick class="text-green-600 w-5 h-5" /> Geographic locations by
                country
              </li>
              <li class="flex items-center gap-2">
                <Tick class="text-green-600 w-5 h-5" /> Traffic sources (direct,
                social, referral)
              </li>
              <li class="flex items-center gap-2">
                <Tick class="text-green-600 w-5 h-5" /> Page-level engagement data
              </li>
              <li class="flex items-center gap-2">
                <Tick class="text-green-600 w-5 h-5" /> Time-based trends and historical
                data
              </li>
            </ul>
          </div>
          <div class="mb-4">
            <h3 class="font-semibold text-lg mb-1">Automatic integration</h3>
            <p class="text-slate-700 mb-2">
              Analytics is built right into Figmafolioâ€”no code snippets or
              third-party tools required. Just publish your portfolio and start
              seeing data in your dashboard. Available on Solo and Pro plans.
            </p>
          </div>
          <div class="flex items-start mt-4">
            <a
              href="#"
              id="analytics-start-link"
              class="inline-block rounded-full bg-[#4d9f70] text-white font-semibold px-6 py-2 text-base shadow hover:bg-[#388e5c] transition"
              >Get started with analytics</a
            >
          </div>
        </div>
        <div class="flex flex-col items-center">
          <div
            class="bg-[#F8FAFC] rounded-2xl border border-[#E5EAF0] w-[320px] h-[320px] md:w-[400px] md:h-[400px] lg:w-[440px] lg:h-[440px] flex flex-col items-center justify-center p-8">
            <svg
              width="80"
              height="80"
              fill="none"
              viewBox="0 0 64 64"
              class="mb-4"
              ><rect
                x="8"
                y="12"
                width="48"
                height="40"
                rx="4"
                fill="#e0e7ef"></rect><rect
                x="14"
                y="36"
                width="8"
                height="10"
                rx="2"
                fill="#4d9f70"></rect><rect
                x="28"
                y="28"
                width="8"
                height="18"
                rx="2"
                fill="#4d9f70"></rect><rect
                x="42"
                y="20"
                width="8"
                height="26"
                rx="2"
                fill="#4d9f70"></rect><path
                d="M14 32l10-8 10 4 12-12"
                stroke="#64748b"
                stroke-width="2"
                stroke-linecap="round"
                stroke-linejoin="round"></path><circle
                cx="14"
                cy="32"
                r="3"
                fill="#64748b"></circle><circle
                cx="24"
                cy="24"
                r="3"
                fill="#64748b"></circle><circle
                cx="34"
                cy="28"
                r="3"
                fill="#64748b"></circle><circle
                cx="46"
                cy="16"
                r="3"
                fill="#64748b"></circle></svg
            >
            <div class="text-center">
              <div class="font-bold text-xl mb-1">Understand Your Audience</div>
              <div class="text-slate-600 text-base">
                Track visitors, sources, and engagement to optimize your
                portfolio's impact.
              </div>
            </div>
          </div>
        </div>
      </div>
    </section>

    <section class="mt-24 mb-16">
      <h2 class="text-4xl font-bold text-center mb-12">
        Frequently Asked Questions
      </h2>
      <div class="space-y-6">
        <details
          class="bg-[#F8FAFC] rounded-2xl border border-[#E5EAF0] shadow p-4 md:p-8 mb-6 transition-all duration-300 group"
          open>
          <summary
            class="font-bold text-xl text-[#222] cursor-pointer flex items-center justify-between select-none text-left">
            How accurate is the visitor tracking?
            <span
              class="ml-4 transition-transform duration-300 group-open:rotate-180">
              <svg
                width="28"
                height="28"
                fill="none"
                viewBox="0 0 24 24"
                aria-hidden="true">
                <path
                  d="M8 10l4 4 4-4"
                  stroke="#222"
                  stroke-width="2"
                  stroke-linecap="round"
                  stroke-linejoin="round"></path>
              </svg>
            </span>
          </summary>
          <div class="mt-4 text-slate-700 text-base leading-relaxed text-left">
            Our analytics provides reliable visitor tracking that respects user
            privacy. We track page views and unique visitors using
            privacy-friendly methods. The data gives you a clear picture of
            traffic patterns and audience demographics without invasive tracking
            techniques.
          </div>
        </details>
        <details
          class="bg-[#F8FAFC] rounded-2xl border border-[#E5EAF0] shadow p-4 md:p-8 mb-6 transition-all duration-300 group">
          <summary
            class="font-bold text-xl text-[#222] cursor-pointer flex items-center justify-between select-none text-left">
            Can I see individual visitor details?
            <span
              class="ml-4 transition-transform duration-300 group-open:rotate-180">
              <svg
                width="28"
                height="28"
                fill="none"
                viewBox="0 0 24 24"
                aria-hidden="true">
                <path
                  d="M8 10l4 4 4-4"
                  stroke="#222"
                  stroke-width="2"
                  stroke-linecap="round"
                  stroke-linejoin="round"></path>
              </svg>
            </span>
          </summary>
          <div class="mt-4 text-slate-700 text-base leading-relaxed text-left">
            We focus on aggregate data rather than individual visitor tracking.
            You'll see totals for visitors, countries, and traffic sources, but
            not personally identifiable information about specific visitors.
            This approach balances useful insights with privacy considerations.
          </div>
        </details>
        <details
          class="bg-[#F8FAFC] rounded-2xl border border-[#E5EAF0] shadow p-4 md:p-8 mb-6 transition-all duration-300 group">
          <summary
            class="font-bold text-xl text-[#222] cursor-pointer flex items-center justify-between select-none text-left">
            How far back does the data go?
            <span
              class="ml-4 transition-transform duration-300 group-open:rotate-180">
              <svg
                width="28"
                height="28"
                fill="none"
                viewBox="0 0 24 24"
                aria-hidden="true">
                <path
                  d="M8 10l4 4 4-4"
                  stroke="#222"
                  stroke-width="2"
                  stroke-linecap="round"
                  stroke-linejoin="round"></path>
              </svg>
            </span>
          </summary>
          <div class="mt-4 text-slate-700 text-base leading-relaxed text-left">
            Analytics data is retained for as long as you maintain an active
            subscription. You can view daily, weekly, and monthly trends to
            understand how your portfolio traffic evolves over time. Data starts
            collecting from the moment you enable analytics on your project.
          </div>
        </details>
        <details
          class="bg-[#F8FAFC] rounded-2xl border border-[#E5EAF0] shadow p-4 md:p-8 mb-6 transition-all duration-300 group">
          <summary
            class="font-bold text-xl text-[#222] cursor-pointer flex items-center justify-between select-none text-left">
            Which plans include analytics?
            <span
              class="ml-4 transition-transform duration-300 group-open:rotate-180">
              <svg
                width="28"
                height="28"
                fill="none"
                viewBox="0 0 24 24"
                aria-hidden="true">
                <path
                  d="M8 10l4 4 4-4"
                  stroke="#222"
                  stroke-width="2"
                  stroke-linecap="round"
                  stroke-linejoin="round"></path>
              </svg>
            </span>
          </summary>
          <div class="mt-4 text-slate-700 text-base leading-relaxed text-left">
            Portfolio Analytics is available on Solo and Pro plans. Free and
            Basic plans don't include analytics, but you can upgrade at any time
            to start tracking your portfolio's performance and understand your
            audience better.
          </div>
        </details>
      </div>
    </section>
  </Container>
</Layout>

<script>
  // Language detection logic
  const getCurrentLanguage = () => {
    // Try to get language from URL path first
    const pathSegments = window.location.pathname.split("/");
    const langFromPath = pathSegments[1];

    // Supported languages
    const supportedLangs = ["en", "es", "de", "zh", "jp", "fr"];

    if (supportedLangs.includes(langFromPath)) {
      return langFromPath;
    }

    // Fallback to browser language
    const browserLang = navigator.language.split("-")[0];
    return supportedLangs.includes(browserLang) ? browserLang : "en";
  };

  // Update analytics start link with current language
  const updateAnalyticsLink = () => {
    const startLink = document.getElementById("analytics-start-link");
    if (startLink) {
      const currentLanguage = getCurrentLanguage();
      const authUrl = `https://app.figmafolio.com/${currentLanguage}/auth`;
      startLink.href = authUrl;
    }
  };

  // Update link when page loads
  document.addEventListener("DOMContentLoaded", updateAnalyticsLink);
</script>

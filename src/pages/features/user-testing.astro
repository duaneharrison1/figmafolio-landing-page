---
import Layout from "../../layouts/Layout.astro";
import Tick from "../../ui/icons/tick.astro";
import Container from "../../components/container.astro";
---

<Layout title="User Testing - Test Any Prototype">
  <Container>
    <section class="bg-white pt-8 pb-4 md:pt-14 md:pb-6">
      <div class="text-center mt-14 mb-12">
        <h1 class="text-5xl font-bold mb-4">
          Test Any Prototype. Get Real Feedback.
        </h1>
        <p class="text-lg text-slate-600">
          Turn your Figmafolio link into a user testing session. Whether you're
          validating a product design, testing an app flow, or getting feedback
          on your portfolio, set up guided tasks and capture real user insights
          in minutes.
        </p>
      </div>
      <div
        class="grid grid-cols-1 md:grid-cols-2 gap-8 md:gap-12 items-start mt-24">
        <div class="flex flex-col items-start text-left">
          <h2 class="text-2xl font-bold mb-4">
            Capture real user insights without complexity
          </h2>
          <p class="text-slate-700 mb-4">
            User Testing turns your published prototype into a guided feedback
            session. Create tasks, share your link, and watch how real users
            interact with your designs. Perfect for product validation, app
            usability testing, website reviews, portfolio feedback, and async
            client check-ins.
          </p>
          <div class="mb-4">
            <h3 class="font-semibold text-lg mb-1">
              Key features
            </h3>
            <ul class="space-y-1 text-base">
              <li class="flex items-center gap-2">
                <Tick class="text-green-600 w-5 h-5" /> Guided Tasks: Walk testers
                through specific flows with clear instructions
              </li>
              <li class="flex items-center gap-2">
                <Tick class="text-green-600 w-5 h-5" /> Session Recording: Capture
                video of the entire testing session
              </li>
              <li class="flex items-center gap-2">
                <Tick class="text-green-600 w-5 h-5" /> Time Tracking: See how long
                each task takes and spot friction points
              </li>
              <li class="flex items-center gap-2">
                <Tick class="text-green-600 w-5 h-5" /> Completion Tracking: Know
                which tasks users complete vs. where they get stuck
              </li>
              <li class="flex items-center gap-2">
                <Tick class="text-green-600 w-5 h-5" /> Same Link, Two Modes: Toggle
                testing on/off without changing your URL
              </li>
              <li class="flex items-center gap-2">
                <Tick class="text-green-600 w-5 h-5" /> Works with Password Protection:
                Keep your prototype private while running tests
              </li>
            </ul>
          </div>
          <div class="mb-4">
            <h3 class="font-semibold text-lg mb-1">Simple setup, real results</h3>
            <p class="text-slate-700 mb-2">
              Enable User Testing in your project settings, add tasks like "Find
              the pricing page" or "Complete the checkout flow," then share your
              link. Review completion rates, time per task, and session
              recordings to understand exactly where users succeed or struggle.
            </p>
          </div>
          <div class="flex items-start mt-4">
            <a
              href="#"
              id="user-testing-start-link"
              class="inline-block rounded-full bg-[#4d9f70] text-white font-semibold px-6 py-2 text-base shadow hover:bg-[#388e5c] transition"
              >Start Testing Your Prototypes</a
            >
          </div>
        </div>
        <div class="flex flex-col items-center">
          <div
            class="bg-[#F8FAFC] rounded-2xl border border-[#E5EAF0] w-[320px] h-[320px] md:w-[400px] md:h-[400px] lg:w-[440px] lg:h-[440px] flex flex-col items-center justify-center p-8">
            <svg
              width="120"
              height="120"
              fill="none"
              viewBox="0 0 64 64"
              class="mb-4"
              ><circle cx="32" cy="32" r="28" fill="#dcfce7"></circle><path
                d="M20 32l8 8 16-16"
                stroke="#4d9f70"
                stroke-width="4"
                stroke-linecap="round"
                stroke-linejoin="round"></path><circle
                cx="32"
                cy="16"
                r="4"
                fill="#4d9f70"></circle><circle cx="48" cy="32" r="4" fill="#4d9f70"
              ></circle><circle cx="32" cy="48" r="4" fill="#4d9f70"></circle></svg
            >
            <div class="text-center">
              <div class="font-bold text-xl mb-1">
                Real feedback in minutes
              </div>
              <div class="text-slate-600 text-base">
                Set up guided tasks and capture insights from real users testing
                your prototype.
              </div>
            </div>
          </div>
        </div>
      </div>
    </section>

    <section class="mt-24 mb-16">
      <h2 class="text-4xl font-bold text-center mb-12">
        Frequently Asked Questions
      </h2>
      <div class="space-y-6">
        <details
          class="bg-[#F8FAFC] rounded-2xl border border-[#E5EAF0] shadow p-4 md:p-8 mb-6 transition-all duration-300 group"
          open>
          <summary
            class="font-bold text-xl text-[#222] cursor-pointer flex items-center justify-between select-none text-left">
            What types of prototypes can I test?
            <span
              class="ml-4 transition-transform duration-300 group-open:rotate-180">
              <svg
                width="28"
                height="28"
                fill="none"
                viewBox="0 0 24 24"
                aria-hidden="true">
                <path
                  d="M8 10l4 4 4-4"
                  stroke="#222"
                  stroke-width="2"
                  stroke-linecap="round"
                  stroke-linejoin="round"></path>
              </svg>
            </span>
          </summary>
          <div class="mt-4 text-slate-700 text-base leading-relaxed text-left">
            You can test any Figma prototype published through Figmafolioâ€”product designs, app prototypes, website mockups, portfolios, and more. If you can publish it to Figmafolio, you can run user tests on it.
          </div>
        </details>
        <details
          class="bg-[#F8FAFC] rounded-2xl border border-[#E5EAF0] shadow p-4 md:p-8 mb-6 transition-all duration-300 group">
          <summary
            class="font-bold text-xl text-[#222] cursor-pointer flex items-center justify-between select-none text-left">
            How many testing sessions can I record?
            <span
              class="ml-4 transition-transform duration-300 group-open:rotate-180">
              <svg
                width="28"
                height="28"
                fill="none"
                viewBox="0 0 24 24"
                aria-hidden="true">
                <path
                  d="M8 10l4 4 4-4"
                  stroke="#222"
                  stroke-width="2"
                  stroke-linecap="round"
                  stroke-linejoin="round"></path>
              </svg>
            </span>
          </summary>
          <div class="mt-4 text-slate-700 text-base leading-relaxed text-left">
            User Testing is a Pro plan feature. Pro plans include up to 20 testing sessions per project. Sessions can be used for different testers or for the same tester completing multiple rounds of feedback.
          </div>
        </details>
        <details
          class="bg-[#F8FAFC] rounded-2xl border border-[#E5EAF0] shadow p-4 md:p-8 mb-6 transition-all duration-300 group">
          <summary
            class="font-bold text-xl text-[#222] cursor-pointer flex items-center justify-between select-none text-left">
            Do I need to find my own testers?
            <span
              class="ml-4 transition-transform duration-300 group-open:rotate-180">
              <svg
                width="28"
                height="28"
                fill="none"
                viewBox="0 0 24 24"
                aria-hidden="true">
                <path
                  d="M8 10l4 4 4-4"
                  stroke="#222"
                  stroke-width="2"
                  stroke-linecap="round"
                  stroke-linejoin="round"></path>
              </svg>
            </span>
          </summary>
          <div class="mt-4 text-slate-700 text-base leading-relaxed text-left">
            Yes, you'll need to recruit your own testers. Share your testing link with colleagues, clients, friends, or members of design communities. Testing with people from your target audience gives you the most relevant insights.
          </div>
        </details>
        <details
          class="bg-[#F8FAFC] rounded-2xl border border-[#E5EAF0] shadow p-4 md:p-8 mb-6 transition-all duration-300 group">
          <summary
            class="font-bold text-xl text-[#222] cursor-pointer flex items-center justify-between select-none text-left">
            Can I use User Testing with password-protected projects?
            <span
              class="ml-4 transition-transform duration-300 group-open:rotate-180">
              <svg
                width="28"
                height="28"
                fill="none"
                viewBox="0 0 24 24"
                aria-hidden="true">
                <path
                  d="M8 10l4 4 4-4"
                  stroke="#222"
                  stroke-width="2"
                  stroke-linecap="round"
                  stroke-linejoin="round"></path>
              </svg>
            </span>
          </summary>
          <div class="mt-4 text-slate-700 text-base leading-relaxed text-left">
            Yes! User Testing works seamlessly with password protection. Testers enter the password first, then proceed with the testing session. This lets you keep your prototype private while still gathering feedback.
          </div>
        </details>
      </div>
    </section>
  </Container>
</Layout>

<script>
  // Language detection logic
  const getCurrentLanguage = () => {
    // Try to get language from URL path first
    const pathSegments = window.location.pathname.split("/");
    const langFromPath = pathSegments[1];

    // Supported languages
    const supportedLangs = ["en", "es", "de", "zh", "jp", "fr"];

    if (supportedLangs.includes(langFromPath)) {
      return langFromPath;
    }

    // Fallback to browser language
    const browserLang = navigator.language.split("-")[0];
    return supportedLangs.includes(browserLang) ? browserLang : "en";
  };

  // Update user testing start link with current language
  const updateUserTestingLink = () => {
    const startLink = document.getElementById("user-testing-start-link");
    if (startLink) {
      const currentLanguage = getCurrentLanguage();
      const authUrl = `https://app.figmafolio.com/${currentLanguage}/auth`;
      startLink.href = authUrl;
    }
  };

  // Update link when page loads
  document.addEventListener("DOMContentLoaded", updateUserTestingLink);
</script>
